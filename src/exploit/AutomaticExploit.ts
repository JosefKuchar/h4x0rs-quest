import Exploit from '../Exploit';
import { Colors } from '../Colors';
import GameScreen from '../screen/GameScreen';

export default class NoInteractionExploit extends Exploit {
    progress: number;

    constructor(ctx: CanvasRenderingContext2D, game: GameScreen) {
        super(ctx, 'AUTOMATIC_EXPLOIT.EXE', game);
        this.progress = 0;
    }

    render() {
        super.renderWindow();

        this.ctx.strokeStyle = Colors.Foreground;
        this.ctx.beginPath();
        this.ctx.rect(50, 768 / 2 - 50 / 2, 1024 - 50 * 2, 100);
        this.ctx.closePath();
        this.ctx.stroke();
        this.ctx.fillStyle = Colors.Foreground;
        this.ctx.fillRect(50, 768 / 2 - 50 / 2, (this.progress / 100) * (1024 - 50 * 2), 100);

        if (this.progress >= 100) {
            this.game.exploitDone();
        }

        this.progress += 0.5;
    }
}
